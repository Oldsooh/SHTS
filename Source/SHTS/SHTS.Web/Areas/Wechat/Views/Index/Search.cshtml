@{
    ViewBag.Title = "搜索：" + @Model.Keywords;
    Layout = "~/Areas/Wechat/Views/Shared/WechatLayoutPage.cshtml";
}
@model Witbird.SHTS.Web.Models.SearchViewModel

<div id="main">
    @if (Model.resultList != null && Model.resultList.Count > 0)
    {
        foreach (var item in Model.resultList)
        {
            <ul class="commonlist">
                <li class="atitle">
                    <span class="state blue">@item.Time</span>
                    <a href="@item.Url" style="margin-right: 10px;">@(new HtmlString(item.Title))</a>
                </li>
                <li><span class="yellow">摘要</span>@(new HtmlString(item.Content))</li>
            </ul>
        }
    }
    else
    {
        <div>没有找到相关结果</div>
    }

    <div style="clear: both; height: 10px;"></div>

    <div class="fenye" style="margin: 0 auto;">
        @if (Model.PageCount > 1)
        {
            for (int step = 1; step <= Model.PageCount; step = step + Model.PageStep)
            {
                if (Model.PageIndex >= step && Model.PageIndex < step + Model.PageStep)
                {
                    //上一页
                    if (Model.PageIndex > 1)
                    {
                        <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=@(Model.PageIndex - 1)" class="prv">上一页</a></span>
                    }
                    //首页
                    if (Model.PageStep < Model.PageIndex)
                    {
                        <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=1">1</a></span>
                    }
                    //分页
                    for (int i = step; i < step + Model.PageStep; i++)
                    {
                        if (i <= Model.PageCount)
                        {
                            if (i == Model.PageIndex)
                            {
                                <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=@i" class="no">@i</a></span>
                            }
                            else
                            {
                                <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=@i">@i</a></span>
                            }
                        }
                    }
                    //末页
                    if (step + Model.PageStep <= Model.PageCount)
                    {
                        <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=@Model.PageCount">@Model.PageCount</a></span>
                    }
                    //下一页
                    if (Model.PageIndex < Model.PageCount)
                    {
                        <span><a href="/wechat/index/search?keyWords=(@Model.Keywords)&page=@(Model.PageIndex + 1)" class="next">下一页</a></span>
                    }
                }
            }

        }
    </div>
</div>