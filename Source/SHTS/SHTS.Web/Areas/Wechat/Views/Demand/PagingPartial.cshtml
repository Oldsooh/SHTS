@model Witbird.SHTS.Web.Areas.Wechat.Models.DemandModel

<div class="fenye" style="margin: 0 auto;">
    @if (Model.PageCount > 1)
    {
        for (int step = 1; step <= Model.PageCount; step = step + Model.PageStep)
        {
            if (Model.PageIndex >= step && Model.PageIndex < step + Model.PageStep)
            {
                //上一页
                if (Model.PageIndex > 1)
                {
                    <span><a href="\wechat\demand?page=@(Model.PageIndex -1)&@Model.GetRouteFilters()" class="prv">上一页</a> </span>
                }
                //首页
                if (Model.PageStep < Model.PageIndex)
                {
                    <span><a href="\wechat\demand?page=1&@Model.GetRouteFilters()">1</a></span><span>.</span>
                }
                //分页
                for (int i = step; i < step + Model.PageStep; i++)
                {
                    if (i <= Model.PageCount)
                    {
                        if (i == Model.PageIndex)
                        {
                            <span><a href="\wechat\demand?page=@i&@Model.GetRouteFilters()" class="no">@i</a></span>
                        }
                        else
                        {
                            <span><a href="\wechat\demand?page=@i&@Model.GetRouteFilters()" class="">@i</a></span>
                        }
                    }
                }
                //末页
                if (step + Model.PageStep <= Model.PageCount)
                {
                            <span><a href="\wechat\demand?page=@(Model.PageCount)&@Model.GetRouteFilters()">@Model.PageCount</a> </span>
                }
                //下一页
                if (Model.PageIndex < Model.PageCount)
                {
                    <span><a href="\wechat\demand?page=@(Model.PageIndex + 1)&@Model.GetRouteFilters()" class="next">下一页</a> </span>
                }
            }
        }

    }
</div>